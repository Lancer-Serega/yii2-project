(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

$(function () {
    // Svg Polyfill
    svg4everybody();

    // Header - Sticky
    function sticky() {
        var offsetScroll = window.pageYOffset || document.documentElement.scrollTop;
        if (offsetScroll > 0) {
            $('html').addClass('is-sticky');
        } else {
            $('html').removeClass('is-sticky');
        }
    }
    sticky();
    $(window).on('scroll', function () {
        sticky();
    });

    // Header - Nav
    $('.nav').on('click', '.nav__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-nav-open')) {
            htmlBlock.removeClass('is-nav-open');
        } else {
            htmlBlock.addClass('is-nav-open');
        }
    });

    // Header - Signin
    $(document).on('click', '.signin__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html'),
            parent = $(this).closest('.signin');

        htmlBlock.is('.is-signin-form-open') ? htmlBlock.removeClass('is-signin-form-open') : htmlBlock.addClass('is-signin-form-open');

        parent.hasClass('open') ? parent.removeClass('open') : parent.addClass('open');
    });

    // Header - Language
    $(document).on('click', '.language__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-language-open')) {
            htmlBlock.removeClass('is-language-open');
        } else {
            htmlBlock.addClass('is-language-open');
        }
    });
    $(document).on('click', function (event) {
        if ($(event.target).closest('.language').length === 0) {
            $('html').removeClass('is-language-open');
        }
    });

    // Slides
    var slickPrev = '<button class="slick-arrow slick-prev"><svg class="icon-prev"><use xlink:href="/sprites/sprite.svg#icon-prev"></use></svg></button>',
        slickNext = '<button class="slick-arrow slick-next"><svg class="icon-next"><use xlink:href="/sprites/sprite.svg#icon-next"></use></svg></button>',
        slickPrevVertical = '<button class="slick-arrow slick-prev"><svg class="icon-prev-vertical"><use xlink:href="/sprites/sprite.svg#icon-prev-vertical"></use></svg></button>',
        slickNextVertical = '<button class="slick-arrow slick-next"><svg class="icon-next-vertical"><use xlink:href="/sprites/sprite.svg#icon-next-vertical"></use></svg></button>';

    // Hero Slides
    $('.js-slick-hero').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: true,
        dots: true,
        fade: false,
        infinite: true,
        nextArrow: slickNext,
        prevArrow: slickPrev,
        autoplay: false,
        pauseOnHover: false,
        autoplaySpeed: 10000,
        responsive: [{
            breakpoint: 767,
            settings: {
                adaptiveHeight: true,
                autoplay: false
            }
        }]
    });
    setTimeout(function () {
        var mq = $(window).width();

        if (mq >= 768) {
            $('.js-slick-hero').slick('slickPlay');
        }
    }, 5000);

    // Images Slides
    $('.js-reviews').each(function () {
        var reviews = $(this),
            reviewsSlides = reviews.find('.js-reviews-slides'),
            reviewsThumbs = reviews.find('.js-reviews-thumbs');

        reviewsSlides.slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            dots: false,
            fade: true,
            infinite: true,
            asNavFor: reviewsThumbs,
            nextArrow: slickNext,
            prevArrow: slickPrev
        });

        reviewsThumbs.slick({
            vertical: true,
            centerMode: true,
            centerPadding: 0,
            slidesToShow: 3,
            slidesToScroll: 1,
            asNavFor: reviewsSlides,
            arrows: true,
            dots: false,
            focusOnSelect: true,
            nextArrow: slickNextVertical,
            prevArrow: slickPrevVertical,
            infinite: true,
            responsive: [{
                breakpoint: 991,
                settings: {
                    vertical: false
                }
            }, {
                breakpoint: 767,
                settings: {
                    slidesToShow: 1,
                    vertical: false
                }
            }]
        });
    });

    // Fancybox
    $('[data-fancybox]').fancybox({
        type: 'inline',
        touch: false,
        buttons: []
    });

    // Forms
    $('select').styler({
        selectSearch: false,
        selectSmartPositioning: false
    });

    // Phone
    $('input[type=tel]').inputmask({ "mask": "+7 (999) 999-99-99", showMaskOnFocus: true });

    // Accordion
    $('.js-accordion').on('click', 'dt', function (event) {
        event.preventDefault();
        if ($(this).is('.is-active')) {
            $(this).removeClass('is-active').next('dd').slideUp('fast');
        } else {
            $(this).closest('.js-accordion').find('dt').removeClass('is-active');
            $(this).closest('.js-accordion').find('dd').slideUp('fast');
            $(this).addClass('is-active').next('dd').slideDown('fast');
        }
    });

    // ScrollTo
    $('.js-scrollto').on('click', function (event) {
        event.preventDefault();
        var href = $(this).attr('href'),
            offsetTop = $(href).offset().top;
        $('html, body').animate({
            scrollTop: offsetTop - $('.header').height() - 14
        }, 500);
    });

    // Validate
    $.validator.addMethod("regexp", function (value, element) {
        return this.optional(element) || /^\+\d \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(value);
    });

    var validateErrorPlacement = function validateErrorPlacement(error, element) {
        error.addClass('ui-validate');
        error.appendTo(element.closest('.ui-field'));
    };

    var validateHighlight = function validateHighlight(element) {
        $(element).parent().addClass("is-error").removeClass('is-valid');
    };

    var validateUnhighlight = function validateUnhighlight(element) {
        $(element).parent().addClass('is-valid').removeClass("is-error");
    };

    $('.js-validate').each(function () {
        $(this).validate({
            errorElement: "span",
            ignore: ":disabled,:hidden",
            highlight: validateHighlight,
            unhighlight: validateUnhighlight,
            rules: {
                // fullname: "required",
                // tel: {
                //     required: true,
                //     regexp: true
                // },
                email: {
                    required: true,
                    email: true
                }
                // message: "required",
                // city: "required",
                // index: "required",
                // address: "required",
                // password: "required",
                // passwordconfirm: {
                //     required: true,
                //     equalTo: "#password"
                // },
                // accept: "required"

            },
            messages: {
                fullname: 'Вы не ввели ФИО',
                tel: 'Вы не ввели номер телефона',
                email: 'Введите email',
                city: 'Введите город',
                index: 'Введите индекс',
                address: 'Введите адрес',
                message: 'Введите сообщение',
                password: 'Введите пароль',
                passwordconfirm: {
                    required: 'Повторите пароль',
                    equalTo: 'Пароли не совпадают'
                },
                accept: 'Подтвердите условия'
            },
            errorPlacement: validateErrorPlacement,
            submitHandler: function submitHandler(form) {
                var data = $(form).serialize(); //$(form).data('type') === 'JSON' ? $(form).serializeArray() : $(form).serialize();

                $.ajax({
                    type: $(form).attr('method') || 'get',
                    url: $(form).attr('action') || '#',
                    data: data,
                    success: function success(form) {
                        console.log(form.statusText);
                        location.reload();
                    },
                    error: function error(xhr, status, _error) {
                        console.log("Result: " + status + " " + _error + " " + xhr.status + " " + xhr.statusText);
                        console.log("Response text: " + xhr.responseText);
                        location.reload();
                    },
                    fail: function fail(xhr, status, error) {
                        console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText);
                        console.log("Response text: " + xhr.responseText);
                        location.reload();
                    }
                });
                event.preventDefault();
            }
        });
    });

    $('.dropdown-toggle').dropdown();
    $('.collapse').collapse();
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxFQUFFLFlBQVk7QUFDVjtBQUNBOztBQUVBO0FBQ0EsYUFBUyxNQUFULEdBQWtCO0FBQ2QsWUFBSSxlQUFlLE9BQU8sV0FBUCxJQUFzQixTQUFTLGVBQVQsQ0FBeUIsU0FBbEU7QUFDQSxZQUFJLGVBQWUsQ0FBbkIsRUFBc0I7QUFDbEIsY0FBRSxNQUFGLEVBQVUsUUFBVixDQUFtQixXQUFuQjtBQUNILFNBRkQsTUFFTztBQUNILGNBQUUsTUFBRixFQUFVLFdBQVYsQ0FBc0IsV0FBdEI7QUFDSDtBQUNKO0FBQ0Q7QUFDQSxNQUFFLE1BQUYsRUFBVSxFQUFWLENBQWEsUUFBYixFQUF1QixZQUFZO0FBQy9CO0FBQ0gsS0FGRDs7QUFJQTtBQUNBLE1BQUUsTUFBRixFQUFVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFdBQXRCLEVBQW1DLFVBQVUsS0FBVixFQUFpQjtBQUNoRCxjQUFNLGNBQU47QUFDQSxZQUFJLFlBQVksRUFBRSxNQUFGLENBQWhCO0FBQ0EsWUFBSSxVQUFVLEVBQVYsQ0FBYSxjQUFiLENBQUosRUFBa0M7QUFDOUIsc0JBQVUsV0FBVixDQUFzQixhQUF0QjtBQUNILFNBRkQsTUFFTztBQUNILHNCQUFVLFFBQVYsQ0FBbUIsYUFBbkI7QUFDSDtBQUNKLEtBUkQ7O0FBVUE7QUFDQSxNQUFFLFFBQUYsRUFBWSxFQUFaLENBQWUsT0FBZixFQUF3QixjQUF4QixFQUF3QyxVQUFVLEtBQVYsRUFBaUI7QUFDckQsY0FBTSxjQUFOO0FBQ0EsWUFBSSxZQUFZLEVBQUUsTUFBRixDQUFoQjtBQUFBLFlBQ0ksU0FBUyxFQUFFLElBQUYsRUFBUSxPQUFSLENBQWdCLFNBQWhCLENBRGI7O0FBR0Esa0JBQVUsRUFBVixDQUFhLHNCQUFiLElBQ00sVUFBVSxXQUFWLENBQXNCLHFCQUF0QixDQUROLEdBRU0s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RCxJQUFJLFVBQTdFO0FBQ0EsZ0NBQVEsR0FBUixDQUFZLG9CQUFvQixJQUFJLFlBQXBDO0FBQ0EsaUNBQVMsTUFBVDtBQUNILHFCQVpFO0FBYUgsMEJBQU0sY0FBVSxHQUFWLEVBQWUsTUFBZixFQUF1QixLQUF2QixFQUE4QjtBQUNoQyxnQ0FBUSxHQUFSLENBQVksYUFBYSxNQUFiLEdBQXNCLEdBQXRCLEdBQTRCLEtBQTVCLEdBQW9DLEdBQXBDLEdBQTBDLElBQUksTUFBOUMsR0FBdUQsR0FBdkQsR0FBNkQsSUFBSSxVQUE3RTtBQUNBLGdDQUFRLEdBQVIsQ0FBWSxvQkFBb0IsSUFBSSxZQUFwQztBQUNBLGlDQUFTLE1BQVQ7QUFDSDtBQWpCRSxpQkFBUDtBQW1CQSxzQkFBTSxjQUFOO0FBQ0g7QUFsRVksU0FBakI7QUFvRUgsS0FyRUQ7O0FBdUVBLE1BQUUsa0JBQUYsRUFBc0IsUUFBdEI7QUFDQSxNQUFFLFdBQUYsRUFBZSxRQUFmO0FBQ0gsQ0FuUkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIkKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTdmcgUG9seWZpbGxcbiAgICBzdmc0ZXZlcnlib2R5KCk7XG5cbiAgICAvLyBIZWFkZXIgLSBTdGlja3lcbiAgICBmdW5jdGlvbiBzdGlja3koKSB7XG4gICAgICAgIGxldCBvZmZzZXRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgaWYgKG9mZnNldFNjcm9sbCA+IDApIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnaXMtc3RpY2t5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2lzLXN0aWNreScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0aWNreSgpO1xuICAgICQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGlja3koKTtcbiAgICB9KTtcblxuICAgIC8vIEhlYWRlciAtIE5hdlxuICAgICQoJy5uYXYnKS5vbignY2xpY2snLCAnLm5hdl9fYnRuJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBodG1sQmxvY2sgPSAkKCdodG1sJyk7XG4gICAgICAgIGlmIChodG1sQmxvY2suaXMoJy5pcy1uYXYtb3BlbicpKSB7XG4gICAgICAgICAgICBodG1sQmxvY2sucmVtb3ZlQ2xhc3MoJ2lzLW5hdi1vcGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sQmxvY2suYWRkQ2xhc3MoJ2lzLW5hdi1vcGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhlYWRlciAtIFNpZ25pblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2lnbmluX19idG4nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGh0bWxCbG9jayA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIHBhcmVudCA9ICQodGhpcykuY2xvc2VzdCgnLnNpZ25pbicpO1xuXG4gICAgICAgIGh0bWxCbG9jay5pcygnLmlzLXNpZ25pbi1mb3JtLW9wZW4nKVxuICAgICAgICAgICAgPyBodG1sQmxvY2sucmVtb3ZlQ2xhc3MoJ2lzLXNpZ25pbi1mb3JtLW9wZW4nKVxuICAgICAgICAgICAgOiBodG1sQmxvY2suYWRkQ2xhc3MoJ2lzLXNpZ25pbi1mb3JtLW9wZW4nKTtcblxuICAgICAgICBwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuICAgICAgICAgICAgPyBwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAgICAgOiBwYXJlbnQuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICB9KTtcblxuICAgIC8vIEhlYWRlciAtIExhbmd1YWdlXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5sYW5ndWFnZV9fYnRuJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBodG1sQmxvY2sgPSAkKCdodG1sJyk7XG4gICAgICAgIGlmIChodG1sQmxvY2suaXMoJy5pcy1sYW5ndWFnZS1vcGVuJykpIHtcbiAgICAgICAgICAgIGh0bWxCbG9jay5yZW1vdmVDbGFzcygnaXMtbGFuZ3VhZ2Utb3BlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHRtbEJsb2NrLmFkZENsYXNzKCdpcy1sYW5ndWFnZS1vcGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcubGFuZ3VhZ2UnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaXMtbGFuZ3VhZ2Utb3BlbicpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTbGlkZXNcbiAgICBsZXQgc2xpY2tQcmV2ID0gJzxidXR0b24gY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PHN2ZyBjbGFzcz1cImljb24tcHJldlwiPjx1c2UgeGxpbms6aHJlZj1cIi9zcHJpdGVzL3Nwcml0ZS5zdmcjaWNvbi1wcmV2XCI+PC91c2U+PC9zdmc+PC9idXR0b24+JyxcbiAgICAgICAgc2xpY2tOZXh0ID0gJzxidXR0b24gY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1uZXh0XCI+PHN2ZyBjbGFzcz1cImljb24tbmV4dFwiPjx1c2UgeGxpbms6aHJlZj1cIi9zcHJpdGVzL3Nwcml0ZS5zdmcjaWNvbi1uZXh0XCI+PC91c2U+PC9zdmc+PC9idXR0b24+JyxcbiAgICAgICAgc2xpY2tQcmV2VmVydGljYWwgPSAnPGJ1dHRvbiBjbGFzcz1cInNsaWNrLWFycm93IHNsaWNrLXByZXZcIj48c3ZnIGNsYXNzPVwiaWNvbi1wcmV2LXZlcnRpY2FsXCI+PHVzZSB4bGluazpocmVmPVwiL3Nwcml0ZXMvc3ByaXRlLnN2ZyNpY29uLXByZXYtdmVydGljYWxcIj48L3VzZT48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgICBzbGlja05leHRWZXJ0aWNhbCA9ICc8YnV0dG9uIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stbmV4dFwiPjxzdmcgY2xhc3M9XCJpY29uLW5leHQtdmVydGljYWxcIj48dXNlIHhsaW5rOmhyZWY9XCIvc3ByaXRlcy9zcHJpdGUuc3ZnI2ljb24tbmV4dC12ZXJ0aWNhbFwiPjwvdXNlPjwvc3ZnPjwvYnV0dG9uPic7XG5cbiAgICAvLyBIZXJvIFNsaWRlc1xuICAgICQoJy5qcy1zbGljay1oZXJvJykuc2xpY2soe1xuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgIGZhZGU6IGZhbHNlLFxuICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgbmV4dEFycm93OiBzbGlja05leHQsXG4gICAgICAgIHByZXZBcnJvdzogc2xpY2tQcmV2LFxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgIHBhdXNlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDEwMDAwLFxuICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY3LFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG1xID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cbiAgICAgICAgaWYgKG1xID49IDc2OCkge1xuICAgICAgICAgICAgJCgnLmpzLXNsaWNrLWhlcm8nKS5zbGljaygnc2xpY2tQbGF5Jyk7XG4gICAgICAgIH1cbiAgICB9LCA1MDAwKTtcblxuICAgIC8vIEltYWdlcyBTbGlkZXNcbiAgICAkKCcuanMtcmV2aWV3cycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgcmV2aWV3cyA9ICQodGhpcyksXG4gICAgICAgICAgICByZXZpZXdzU2xpZGVzID0gcmV2aWV3cy5maW5kKCcuanMtcmV2aWV3cy1zbGlkZXMnKSxcbiAgICAgICAgICAgIHJldmlld3NUaHVtYnMgPSByZXZpZXdzLmZpbmQoJy5qcy1yZXZpZXdzLXRodW1icycpO1xuXG4gICAgICAgIHJldmlld3NTbGlkZXMuc2xpY2soe1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICBhc05hdkZvcjogcmV2aWV3c1RodW1icyxcbiAgICAgICAgICAgIG5leHRBcnJvdzogc2xpY2tOZXh0LFxuICAgICAgICAgICAgcHJldkFycm93OiBzbGlja1ByZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV2aWV3c1RodW1icy5zbGljayh7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAwLFxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICBhc05hdkZvcjogcmV2aWV3c1NsaWRlcyxcbiAgICAgICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcbiAgICAgICAgICAgIG5leHRBcnJvdzogc2xpY2tOZXh0VmVydGljYWwsXG4gICAgICAgICAgICBwcmV2QXJyb3c6IHNsaWNrUHJldlZlcnRpY2FsLFxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA5OTEsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBGYW5jeWJveFxuICAgICQoJ1tkYXRhLWZhbmN5Ym94XScpLmZhbmN5Ym94KHtcbiAgICAgICAgdHlwZTogJ2lubGluZScsXG4gICAgICAgIHRvdWNoOiBmYWxzZSxcbiAgICAgICAgYnV0dG9uczogW11cbiAgICB9KTtcblxuICAgIC8vIEZvcm1zXG4gICAgJCgnc2VsZWN0Jykuc3R5bGVyKHtcbiAgICAgICAgc2VsZWN0U2VhcmNoOiBmYWxzZSxcbiAgICAgICAgc2VsZWN0U21hcnRQb3NpdGlvbmluZzogZmFsc2VcbiAgICB9KTtcblxuICAgIC8vIFBob25lXG4gICAgJCgnaW5wdXRbdHlwZT10ZWxdJykuaW5wdXRtYXNrKHtcIm1hc2tcIjogXCIrNyAoOTk5KSA5OTktOTktOTlcIiwgc2hvd01hc2tPbkZvY3VzOiB0cnVlfSk7XG5cbiAgICAvLyBBY2NvcmRpb25cbiAgICAkKCcuanMtYWNjb3JkaW9uJykub24oJ2NsaWNrJywgJ2R0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCcuaXMtYWN0aXZlJykpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpLm5leHQoJ2RkJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuanMtYWNjb3JkaW9uJykuZmluZCgnZHQnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5qcy1hY2NvcmRpb24nKS5maW5kKCdkZCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpLm5leHQoJ2RkJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNjcm9sbFRvXG4gICAgJCgnLmpzLXNjcm9sbHRvJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICBvZmZzZXRUb3AgPSAkKGhyZWYpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3AgLSAkKCcuaGVhZGVyJykuaGVpZ2h0KCkgLSAxNFxuICAgICAgICB9LCA1MDApO1xuICAgIH0pO1xuXG4gICAgLy8gVmFsaWRhdGVcbiAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJyZWdleHBcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eXFwrXFxkIFxcKFxcZHszfVxcKSBcXGR7M30tXFxkezJ9LVxcZHsyfSQvLnRlc3QodmFsdWUpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdmFsaWRhdGVFcnJvclBsYWNlbWVudCA9IGZ1bmN0aW9uIChlcnJvciwgZWxlbWVudCkge1xuICAgICAgICBlcnJvci5hZGRDbGFzcygndWktdmFsaWRhdGUnKTtcbiAgICAgICAgZXJyb3IuYXBwZW5kVG8oZWxlbWVudC5jbG9zZXN0KCcudWktZmllbGQnKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgJChlbGVtZW50KS5wYXJlbnQoKS5hZGRDbGFzcyhcImlzLWVycm9yXCIpLnJlbW92ZUNsYXNzKCdpcy12YWxpZCcpO1xuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVVuaGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgJChlbGVtZW50KS5wYXJlbnQoKS5hZGRDbGFzcygnaXMtdmFsaWQnKS5yZW1vdmVDbGFzcyhcImlzLWVycm9yXCIpXG4gICAgfTtcblxuICAgICQoJy5qcy12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnZhbGlkYXRlKHtcbiAgICAgICAgICAgIGVycm9yRWxlbWVudDogXCJzcGFuXCIsXG4gICAgICAgICAgICBpZ25vcmU6IFwiOmRpc2FibGVkLDpoaWRkZW5cIixcbiAgICAgICAgICAgIGhpZ2hsaWdodDogdmFsaWRhdGVIaWdobGlnaHQsXG4gICAgICAgICAgICB1bmhpZ2hsaWdodDogdmFsaWRhdGVVbmhpZ2hsaWdodCxcbiAgICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgLy8gZnVsbG5hbWU6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAvLyB0ZWw6IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlZ2V4cDogdHJ1ZVxuICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBtZXNzYWdlOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gY2l0eTogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgIC8vIGluZGV4OiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gYWRkcmVzczogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgIC8vIHBhc3N3b3JkOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gcGFzc3dvcmRjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIC8vICAgICBlcXVhbFRvOiBcIiNwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAvLyBhY2NlcHQ6IFwicmVxdWlyZWRcIlxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgICAgICAgICBmdWxsbmFtZTogJ9CS0Ysg0L3QtSDQstCy0LXQu9C4INCk0JjQnicsXG4gICAgICAgICAgICAgICAgdGVsOiAn0JLRiyDQvdC1INCy0LLQtdC70Lgg0L3QvtC80LXRgCDRgtC10LvQtdGE0L7QvdCwJyxcbiAgICAgICAgICAgICAgICBlbWFpbDogJ9CS0LLQtdC00LjRgtC1IGVtYWlsJyxcbiAgICAgICAgICAgICAgICBjaXR5OiAn0JLQstC10LTQuNGC0LUg0LPQvtGA0L7QtCcsXG4gICAgICAgICAgICAgICAgaW5kZXg6ICfQktCy0LXQtNC40YLQtSDQuNC90LTQtdC60YEnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3M6ICfQktCy0LXQtNC40YLQtSDQsNC00YDQtdGBJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1JyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogJ9CS0LLQtdC00LjRgtC1INC/0LDRgNC+0LvRjCcsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiAn0J/QvtCy0YLQvtGA0LjRgtC1INC/0LDRgNC+0LvRjCcsXG4gICAgICAgICAgICAgICAgICAgIGVxdWFsVG86ICfQn9Cw0YDQvtC70Lgg0L3QtSDRgdC+0LLQv9Cw0LTQsNGO0YInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhY2NlcHQ6ICfQn9C+0LTRgtCy0LXRgNC00LjRgtC1INGD0YHQu9C+0LLQuNGPJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yUGxhY2VtZW50OiB2YWxpZGF0ZUVycm9yUGxhY2VtZW50LFxuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9ICQoZm9ybSkuc2VyaWFsaXplKCk7Ly8kKGZvcm0pLmRhdGEoJ3R5cGUnKSA9PT0gJ0pTT04nID8gJChmb3JtKS5zZXJpYWxpemVBcnJheSgpIDogJChmb3JtKS5zZXJpYWxpemUoKTtcblxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICQoZm9ybSkuYXR0cignbWV0aG9kJykgfHwgJ2dldCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJChmb3JtKS5hdHRyKCdhY3Rpb24nKSB8fCAnIycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JtLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VsdDogXCIgKyBzdGF0dXMgKyBcIiBcIiArIGVycm9yICsgXCIgXCIgKyB4aHIuc3RhdHVzICsgXCIgXCIgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3BvbnNlIHRleHQ6IFwiICsgeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bHQ6IFwiICsgc3RhdHVzICsgXCIgXCIgKyBlcnJvciArIFwiIFwiICsgeGhyLnN0YXR1cyArIFwiIFwiICsgeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXNwb25zZSB0ZXh0OiBcIiArIHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoJy5kcm9wZG93bi10b2dnbGUnKS5kcm9wZG93bigpO1xuICAgICQoJy5jb2xsYXBzZScpLmNvbGxhcHNlKCk7XG59KTtcbiJdfQ==
