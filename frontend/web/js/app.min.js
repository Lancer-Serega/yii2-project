(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

$(function () {
    // Svg Polyfill
    svg4everybody();

    // Header - Sticky
    function sticky() {
        var offsetScroll = window.pageYOffset || document.documentElement.scrollTop;
        if (offsetScroll > 0) {
            $('html').addClass('is-sticky');
        } else {
            $('html').removeClass('is-sticky');
        }
    }
    sticky();
    $(window).on('scroll', function () {
        sticky();
    });

    // Header - Nav
    $('.nav').on('click', '.nav__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-nav-open')) {
            htmlBlock.removeClass('is-nav-open');
        } else {
            htmlBlock.addClass('is-nav-open');
        }
    });

    // Header - Signin
    $(document).on('click', '.signin__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-signin-form-open')) {
            htmlBlock.removeClass('is-signin-form-open');
        } else {
            htmlBlock.addClass('is-signin-form-open');
        }
    });
    $(document).on('click', function (event) {
        if ($(event.target).closest('.signin-form').length === 0) {
            $('html').removeClass('is-signin-open');
        }
    });

    // Header - Language
    $(document).on('click', '.language__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-language-open')) {
            htmlBlock.removeClass('is-language-open');
        } else {
            htmlBlock.addClass('is-language-open');
        }
    });
    $(document).on('click', function (event) {
        if ($(event.target).closest('.language').length === 0) {
            $('html').removeClass('is-language-open');
        }
    });

    // Slides
    var slickPrev = '<button class="slick-arrow slick-prev"><svg class="icon-prev"><use xlink:href="sprites/sprite.svg#icon-prev"></use></svg></button>',
        slickNext = '<button class="slick-arrow slick-next"><svg class="icon-next"><use xlink:href="sprites/sprite.svg#icon-next"></use></svg></button>',
        slickPrevVertical = '<button class="slick-arrow slick-prev"><svg class="icon-prev-vertical"><use xlink:href="sprites/sprite.svg#icon-prev-vertical"></use></svg></button>',
        slickNextVertical = '<button class="slick-arrow slick-next"><svg class="icon-next-vertical"><use xlink:href="sprites/sprite.svg#icon-next-vertical"></use></svg></button>';

    // Hero Slides
    $('.js-slick-hero').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: true,
        dots: true,
        fade: false,
        infinite: true,
        nextArrow: slickNext,
        prevArrow: slickPrev,
        autoplay: false,
        pauseOnHover: false,
        autoplaySpeed: 10000,
        responsive: [{
            breakpoint: 767,
            settings: {
                adaptiveHeight: true,
                autoplay: false
            }
        }]
    });
    setTimeout(function () {
        var mq = $(window).width();

        if (mq >= 768) {
            $('.js-slick-hero').slick('slickPlay');
        }
    }, 5000);

    // Images Slides
    $('.js-reviews').each(function () {
        var reviews = $(this),
            reviewsSlides = reviews.find('.js-reviews-slides'),
            reviewsThumbs = reviews.find('.js-reviews-thumbs');

        reviewsSlides.slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            dots: false,
            fade: true,
            infinite: true,
            asNavFor: reviewsThumbs,
            nextArrow: slickNext,
            prevArrow: slickPrev
        });

        reviewsThumbs.slick({
            vertical: true,
            centerMode: true,
            centerPadding: 0,
            slidesToShow: 3,
            slidesToScroll: 1,
            asNavFor: reviewsSlides,
            arrows: true,
            dots: false,
            focusOnSelect: true,
            nextArrow: slickNextVertical,
            prevArrow: slickPrevVertical,
            infinite: true,
            responsive: [{
                breakpoint: 991,
                settings: {
                    vertical: false
                }
            }, {
                breakpoint: 767,
                settings: {
                    slidesToShow: 1,
                    vertical: false
                }
            }]
        });
    });

    // Fancybox
    $('[data-fancybox]').fancybox({
        type: 'inline',
        touch: false,
        buttons: []
    });

    // Forms
    $('select').styler({
        selectSearch: false,
        selectSmartPositioning: false
    });

    // Phone
    $('input[type=tel]').inputmask({ "mask": "+7 (999) 999-99-99", showMaskOnFocus: true });

    // Accordion
    $('.js-accordion').on('click', 'dt', function (event) {
        event.preventDefault();
        if ($(this).is('.is-active')) {
            $(this).removeClass('is-active').next('dd').slideUp('fast');
        } else {
            $(this).closest('.js-accordion').find('dt').removeClass('is-active');
            $(this).closest('.js-accordion').find('dd').slideUp('fast');
            $(this).addClass('is-active').next('dd').slideDown('fast');
        }
    });

    // ScrollTo
    $('.js-scrollto').on('click', function (event) {
        event.preventDefault();
        var href = $(this).attr('href'),
            offsetTop = $(href).offset().top;
        $('html, body').animate({
            scrollTop: offsetTop - $('.header').height() - 14
        }, 500);
    });

    // Validate
    $.validator.addMethod("regexp", function (value, element) {
        return this.optional(element) || /^\+\d \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(value);
    });

    var validateErrorPlacement = function validateErrorPlacement(error, element) {
        error.addClass('ui-validate');
        error.appendTo(element.closest('.ui-field'));
    };

    var validateHighlight = function validateHighlight(element) {
        $(element).parent().addClass("is-error").removeClass('is-valid');
    };

    var validateUnhighlight = function validateUnhighlight(element) {
        $(element).parent().addClass('is-valid').removeClass("is-error");
    };

    $('.js-validate').each(function () {
        $(this).validate({
            errorElement: "span",
            ignore: ":disabled,:hidden",
            highlight: validateHighlight,
            unhighlight: validateUnhighlight,
            rules: {
                // fullname: "required",
                // tel: {
                //     required: true,
                //     regexp: true
                // },
                email: {
                    required: true,
                    email: true
                }
                // message: "required",
                // city: "required",
                // index: "required",
                // address: "required",
                // password: "required",
                // passwordconfirm: {
                //     required: true,
                //     equalTo: "#password"
                // },
                // accept: "required"

            },
            messages: {
                fullname: 'Вы не ввели ФИО',
                tel: 'Вы не ввели номер телефона',
                email: 'Введите email',
                city: 'Введите город',
                index: 'Введите индекс',
                address: 'Введите адрес',
                message: 'Введите сообщение',
                password: 'Введите пароль',
                passwordconfirm: {
                    required: 'Повторите пароль',
                    equalTo: 'Пароли не совпадают'
                },
                accept: 'Подтвердите условия'
            },
            errorPlacement: validateErrorPlacement,
            submitHandler: function submitHandler(form) {
                var data = $(form).serialize(); //$(form).data('type') === 'JSON' ? $(form).serializeArray() : $(form).serialize();

                $.ajax({
                    type: $(form).attr('method') || 'get',
                    url: $(form).attr('action') || '#',
                    data: data,
                    success: function success(form) {
                        console.log(form.statusText);
                        location.reload();
                    },
                    error: function error(xhr, status, _error) {
                        console.log("Result: " + status + " " + _error + " " + xhr.status + " " + xhr.statusText);
                        console.log("Response text: " + xhr.responseText);
                        location.reload();
                    },
                    fail: function fail(xhr, status, error) {
                        console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText);
                        console.log("Response text: " + xhr.responseText);
                        location.reload();
                    }
                });
                event.preventDefault();
            }
        });
    });
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxFQUFFLFlBQVk7QUFDVjtBQUNBOztBQUVBO0FBQ0EsYUFBUyxNQUFULEdBQWtCO0FBQ2QsWUFBSSxlQUFlLE9BQU8sV0FBUCxJQUFzQixTQUFTLGVBQVQsQ0FBeUIsU0FBbEU7QUFDQSxZQUFJLGVBQWUsQ0FBbkIsRUFBc0I7QUFDbEIsY0FBRSxNQUFGLEVBQVUsUUFBVixDQUFtQixXQUFuQjtBQUNILFNBRkQsTUFFTztBQUNILGNBQUUsTUFBRixFQUFVLFdBQVYsQ0FBc0IsV0FBdEI7QUFDSDtBQUNKO0FBQ0Q7QUFDQSxNQUFFLE1BQUYsRUFBVSxFQUFWLENBQWEsUUFBYixFQUF1QixZQUFZO0FBQy9CO0FBQ0gsS0FGRDs7QUFJQTtBQUNBLE1BQUUsTUFBRixFQUFVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFdBQXRCLEVBQW1DLFVBQVUsS0FBVixFQUFpQjtBQUNoRCxjQUFNLGNBQU47QUFDQSxZQUFJLFlBQVksRUFBRSxNQUFGLENBQWhCO0FBQ0EsWUFBSSxVQUFVLEVBQVYsQ0FBYSxjQUFiLENBQUosRUFBa0M7QUFDOUIsc0JBQVUsV0FBVixDQUFzQixhQUF0QjtBQUNILFNBRkQsTUFFTztBQUNILHNCQUFVLFFBQVYsQ0FBbUIsYUFBbkI7QUFDSDtBQUNKLEtBUkQ7O0FBVUE7QUFDQSxNQUFFLFFBQUYsRUFBWSxFQUFaLENBQWUsT0FBZixFQUF3QixjQUF4QixFQUF3QyxVQUFVLEtBQVYsRUFBaUI7QUFDckQsY0FBTSxjQUFOO0FBQ0EsWUFBSSxZQUFZLEVBQUUsTUFBRixDQUFoQjtBQUNBLFlBQUksVUFBVSxFQUFWLENBQWEsc0JBQWIsQ0FBSixFQUEwQztBQUN0QyxzQkFBVSxXQUFWLENBQXNCLHFCQUF0QjtBQUNILFNBRkQsTUFFTztBQUNILHNCQUFVLFFBQVYsQ0FBbUIscUJBQW5CO0FBQ0g7QUFDSixLQVJEO0FBU0EsTUFBRSxRQUFGLEVBQVksRUFBWixDQUFlLE9BQWYsRUFBd0IsVUFBVSxLQUFWLEVBQWlCO0FBQ3JDLFlBQUksRUFBRSxNQUFNLE1BQVIsRUFBZ0IsT0FBaEIsQ0FBd0IsY0FBeEIsRUFBd0MsTUFBeEMsS0FBbUQsQ0FBdkQsRUFBMEQ7QUFDdEQsY0FBRSxNQUFGLEVBQVUsV0FBVixDQUFzQixnQkFBdEI7QUFDSDtBQUNKLEtBSkQ7O0FBTUE7QUFDQSxNQUFFLFFBQUYsRUFBWSxFQUFaLENBQWUsT0FBZixFQUF3QixnQkFBeEIsRUFBMEMsVUFBVSxLQUFWLEVBQWlCO0FBQ3ZELGNBQU0sY0FBTjtBQUNBLFlBQUksWUFBWSxFQUFFLE1BQUYsQ0FBaEI7QUFDQSxZQUFJLFVBQVUsRUFBVixDQUFhLG1CQUFiLENBQUosRUFBdUM7QUFDbkMsc0JBQVUsV0FBVixDQUFzQixrQkFBdEI7QUFDSCxTQUZELE1BRU87QUFDSCxzQkFBVSxRQUFWLENBQW1CLGtCQUFuQjtBQUNIO0FBQ0osS0FSRDtBQVNBLE1BQUUsUUFBRixFQUFZLEVBQVosQ0FBZSxPQUFmLEVBQXdCLFVBQVUsS0FBVixFQUFpQjtBQUNyQyxZQUFJLEVBQUUsTUFBTSxNQUFSLEVBQWdCLE9BQWhCLENBQXdCLFdBQXhCLEVBQXFDLE1BQXJDLEtBQWdELENBQXBELEVBQXVEO0FBQ25ELGNBQUUsTUFBRixFQUFVLFdBQVYsQ0FBc0Isa0JBQXRCO0FBQ0g7QUFDSixLQUpEOztBQU1BO0FBQ0EsUUFBSSxZQUFZLG9JQUFoQjtBQUFBLFFBQ0ksWUFBWSxvSUFEaEI7QUFBQSxRQUVJLG9CQUFvQixzSkFGeEI7QUFBQSxRQUdJLG9CQUFvQixzSkFIeEI7O0FBS0E7QUFDQSxNQUFFLGdCQUFGLEVBQW9CLEtBQXBCLENBQTBCO0FBQ3RCLHNCQUFjLENBRFE7QUFFdEIsd0JBQWdCLENBRk07QUFHdEIsZ0JBQVEsSUFIYztBQUl0QixjQUFNLElBSmdCO0FBS3RCLGNBQU0sS0FMZ0I7QUFNdEIsa0JBQVUsSUFOWTtBQU90QixtQkFBVyxTQVBXO0FBUXRCLG1CQUFXLFNBUlc7QUFTdEIsa0JBQVUsS0FUWTtBQVV0QixzQkFBYyxLQVZRO0FBV3RCLHVCQUFlLEtBWE87QUFZdEIsb0JBQVksQ0FDUjtBQUNJLHdCQUFZLEdBRGhCO0FBRUksc0JBQVU7QUFDTixnQ0FBZ0IsSUFEVjtBQUVOLDBCQUFVO0FBRko7QUFGZCxTQURRO0FBWlUsS0FBMUI7QUFzQkEsZUFBVyxZQUFZO0FBQ25CLFlBQUksS0FBSyxFQUFFLE1BQUYsRUFBVSxLQUFWLEVBQVQ7O0FBRUEsWUFBSSxNQUFNLEdBQVYsRUFBZTtBQUNYLGNBQUUsZ0JBQUYsRUFBb0IsS0FBcEIsQ0FBMEIsV0FBMUI7QUFDSDtBQUNKLEtBTkQsRUFNRyxJQU5IOztBQVFBO0FBQ0EsTUFBRSxhQUFGLEVBQWlCLElBQWpCLENBQXNCLFlBQVk7QUFDOUIsWUFBSSxVQUFVLEVBQUUsSUFBRixDQUFkO0FBQUEsWUFDSSxnQkFBZ0IsUUFBUSxJQUFSLENBQWEsb0JBQWIsQ0FEcEI7QUFBQSxZQUVJLGdCQUFnQixRQUFRLElBQVIsQ0FBYSxvQkFBYixDQUZwQjs7QUFJQSxzQkFBYyxLQUFkLENBQW9CO0FBQ2hCLDBCQUFjLENBREU7QUFFaEIsNEJBQWdCLENBRkE7QUFHaEIsb0JBQVEsS0FIUTtBQUloQixrQkFBTSxLQUpVO0FBS2hCLGtCQUFNLElBTFU7QUFNaEIsc0JBQVUsSUFOTTtBQU9oQixzQkFBVSxhQVBNO0FBUWhCLHVCQUFXLFNBUks7QUFTaEIsdUJBQVc7QUFUSyxTQUFwQjs7QUFZQSxzQkFBYyxLQUFkLENBQW9CO0FBQ2hCLHNCQUFVLElBRE07QUFFaEIsd0JBQVksSUFGSTtBQUdoQiwyQkFBZSxDQUhDO0FBSWhCLDBCQUFjLENBSkU7QUFLaEIsNEJBQWdCLENBTEE7QUFNaEIsc0JBQVUsYUFOTTtBQU9oQixvQkFBUSxJQVBRO0FBUWhCLGtCQUFNLEtBUlU7QUFTaEIsMkJBQWUsSUFUQztBQVVoQix1QkFBVyxpQkFWSztBQVdoQix1QkFBVyxpQkFYSztBQVloQixzQkFBVSxJQVpNO0FBYWhCLHdCQUFZLENBQ1I7QUFDSSw0QkFBWSxHQURoQjtBQUVJLDBCQUFVO0FBQ04sOEJBQVU7QUFESjtBQUZkLGFBRFEsRUFPUjtBQUNJLDRCQUFZLEdBRGhCO0FBRUksMEJBQVU7QUFDTixrQ0FBYyxDQURSO0FBRU4sOEJBQVU7QUFGSjtBQUZkLGFBUFE7QUFiSSxTQUFwQjtBQTZCSCxLQTlDRDs7QUFnREE7QUFDQSxNQUFFLGlCQUFGLEVBQXFCLFFBQXJCLENBQThCO0FBQzFCLGNBQU0sUUFEb0I7QUFFMUIsZUFBTyxLQUZtQjtBQUcxQixpQkFBUztBQUhpQixLQUE5Qjs7QUFNQTtBQUNBLE1BQUUsUUFBRixFQUFZLE1BQVosQ0FBbUI7QUFDZixzQkFBYyxLQURDO0FBRWYsZ0NBQXdCO0FBRlQsS0FBbkI7O0FBS0E7QUFDQSxNQUFFLGlCQUFGLEVBQXFCLFNBQXJCLENBQStCLEVBQUMsUUFBUSxvQkFBVCxFQUErQixpQkFBaUIsSUFBaEQsRUFBL0I7O0FBRUE7QUFDQSxNQUFFLGVBQUYsRUFBbUIsRUFBbkIsQ0FBc0IsT0FBdEIsRUFBK0IsSUFBL0IsRUFBcUMsVUFBVSxLQUFWLEVBQWlCO0FBQ2xELGNBQU0sY0FBTjtBQUNBLFlBQUksRUFBRSxJQUFGLEVBQVEsRUFBUixDQUFXLFlBQVgsQ0FBSixFQUE4QjtBQUMxQixjQUFFLElBQUYsRUFBUSxXQUFSLENBQW9CLFdBQXBCLEVBQWlDLElBQWpDLENBQXNDLElBQXRDLEVBQTRDLE9BQTVDLENBQW9ELE1BQXBEO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsY0FBRSxJQUFGLEVBQVEsT0FBUixDQUFnQixlQUFoQixFQUFpQyxJQUFqQyxDQUFzQyxJQUF0QyxFQUE0QyxXQUE1QyxDQUF3RCxXQUF4RDtBQUNBLGNBQUUsSUFBRixFQUFRLE9BQVIsQ0FBZ0IsZUFBaEIsRUFBaUMsSUFBakMsQ0FBc0MsSUFBdEMsRUFBNEMsT0FBNUMsQ0FBb0QsTUFBcEQ7QUFDQSxjQUFFLElBQUYsRUFBUSxRQUFSLENBQWlCLFdBQWpCLEVBQThCLElBQTlCLENBQW1DLElBQW5DLEVBQXlDLFNBQXpDLENBQW1ELE1BQW5EO0FBQ0g7QUFDSixLQVREOztBQVdBO0FBQ0EsTUFBRSxjQUFGLEVBQWtCLEVBQWxCLENBQXFCLE9BQXJCLEVBQThCLFVBQVUsS0FBVixFQUFpQjtBQUMzQyxjQUFNLGNBQU47QUFDQSxZQUFJLE9BQU8sRUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLE1BQWIsQ0FBWDtBQUFBLFlBQ0ksWUFBWSxFQUFFLElBQUYsRUFBUSxNQUFSLEdBQWlCLEdBRGpDO0FBRUEsVUFBRSxZQUFGLEVBQWdCLE9BQWhCLENBQXdCO0FBQ3BCLHVCQUFXLFlBQVksRUFBRSxTQUFGLEVBQWEsTUFBYixFQUFaLEdBQW9DO0FBRDNCLFNBQXhCLEVBRUcsR0FGSDtBQUdILEtBUEQ7O0FBU0E7QUFDQSxNQUFFLFNBQUYsQ0FBWSxTQUFaLENBQXNCLFFBQXRCLEVBQWdDLFVBQVUsS0FBVixFQUFpQixPQUFqQixFQUEwQjtBQUN0RCxlQUFPLEtBQUssUUFBTCxDQUFjLE9BQWQsS0FBMEIscUNBQXFDLElBQXJDLENBQTBDLEtBQTFDLENBQWpDO0FBQ0gsS0FGRDs7QUFJQSxRQUFNLHlCQUF5QixTQUF6QixzQkFBeUIsQ0FBVSxLQUFWLEVBQWlCLE9BQWpCLEVBQTBCO0FBQ3JELGNBQU0sUUFBTixDQUFlLGFBQWY7QUFDQSxjQUFNLFFBQU4sQ0FBZSxRQUFRLE9BQVIsQ0FBZ0IsV0FBaEIsQ0FBZjtBQUNILEtBSEQ7O0FBS0EsUUFBTSxvQkFBb0IsU0FBcEIsaUJBQW9CLENBQVUsT0FBVixFQUFtQjtBQUN6QyxVQUFFLE9BQUYsRUFBVyxNQUFYLEdBQW9CLFFBQXBCLENBQTZCLFVBQTdCLEVBQXlDLFdBQXpDLENBQXFELFVBQXJEO0FBQ0gsS0FGRDs7QUFJQSxRQUFNLHNCQUFzQixTQUF0QixtQkFBc0IsQ0FBVSxPQUFWLEVBQW1CO0FBQzNDLFVBQUUsT0FBRixFQUFXLE1BQVgsR0FBb0IsUUFBcEIsQ0FBNkIsVUFBN0IsRUFBeUMsV0FBekMsQ0FBcUQsVUFBckQ7QUFDSCxLQUZEOztBQUlBLE1BQUUsY0FBRixFQUFrQixJQUFsQixDQUF1QixZQUFZO0FBQy9CLFVBQUUsSUFBRixFQUFRLFFBQVIsQ0FBaUI7QUFDYiwwQkFBYyxNQUREO0FBRWIsb0JBQVEsbUJBRks7QUFHYix1QkFBVyxpQkFIRTtBQUliLHlCQUFhLG1CQUpBO0FBS2IsbUJBQU87QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQU87QUFDSCw4QkFBVSxJQURQO0FBRUgsMkJBQU87QUFGSjtBQUlQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQW5CRyxhQUxNO0FBMkJiLHNCQUFVO0FBQ04sMEJBQVUsaUJBREo7QUFFTixxQkFBSyw0QkFGQztBQUdOLHVCQUFPLGVBSEQ7QUFJTixzQkFBTSxlQUpBO0FBS04sdUJBQU8sZ0JBTEQ7QUFNTix5QkFBUyxlQU5IO0FBT04seUJBQVMsbUJBUEg7QUFRTiwwQkFBVSxnQkFSSjtBQVNOLGlDQUFpQjtBQUNiLDhCQUFVLGtCQURHO0FBRWIsNkJBQVM7QUFGSSxpQkFUWDtBQWFOLHdCQUFRO0FBYkYsYUEzQkc7QUEwQ2IsNEJBQWdCLHNCQTFDSDtBQTJDYiwyQkFBZSx1QkFBVSxJQUFWLEVBQWdCO0FBQzNCLG9CQUFJLE9BQU8sRUFBRSxJQUFGLEVBQVEsU0FBUixFQUFYLENBRDJCLENBQ0k7O0FBRS9CLGtCQUFFLElBQUYsQ0FBTztBQUNILDBCQUFNLEVBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxRQUFiLEtBQTBCLEtBRDdCO0FBRUgseUJBQUssRUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLFFBQWIsS0FBMEIsR0FGNUI7QUFHSCwwQkFBTSxJQUhIO0FBSUgsNkJBQVMsaUJBQVUsSUFBVixFQUFnQjtBQUNyQixnQ0FBUSxHQUFSLENBQVksS0FBSyxVQUFqQjtBQUNBLGlDQUFTLE1BQVQ7QUFDSCxxQkFQRTtBQVFILDJCQUFPLGVBQVUsR0FBVixFQUFlLE1BQWYsRUFBdUIsTUFBdkIsRUFBOEI7QUFDakMsZ0NBQVEsR0FBUixDQUFZLGFBQWEsTUFBYixHQUFzQixHQUF0QixHQUE0QixNQUE1QixHQUFvQyxHQUFwQyxHQUEwQyxJQUFJLE1BQTlDLEdBQXVELEdBQXZELEdBQTZELElBQUksVUFBN0U7QUFDQSxnQ0FBUSxHQUFSLENBQVksb0JBQW9CLElBQUksWUFBcEM7QUFDQSxpQ0FBUyxNQUFUO0FBQ0gscUJBWkU7QUFhSCwwQkFBTSxjQUFVLEdBQVYsRUFBZSxNQUFmLEVBQXVCLEtBQXZCLEVBQThCO0FBQ2hDLGdDQUFRLEdBQVIsQ0FBWSxhQUFhLE1BQWIsR0FBc0IsR0FBdEIsR0FBNEIsS0FBNUIsR0FBb0MsR0FBcEMsR0FBMEMsSUFBSSxNQUE5QyxHQUF1RCxHQUF2RCxHQUE2RCxJQUFJLFVBQTdFO0FBQ0EsZ0NBQVEsR0FBUixDQUFZLG9CQUFvQixJQUFJLFlBQXBDO0FBQ0EsaUNBQVMsTUFBVDtBQUNIO0FBakJFLGlCQUFQO0FBbUJBLHNCQUFNLGNBQU47QUFDSDtBQWxFWSxTQUFqQjtBQW9FSCxLQXJFRDtBQXNFSCxDQWpSRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIiQoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN2ZyBQb2x5ZmlsbFxuICAgIHN2ZzRldmVyeWJvZHkoKTtcblxuICAgIC8vIEhlYWRlciAtIFN0aWNreVxuICAgIGZ1bmN0aW9uIHN0aWNreSgpIHtcbiAgICAgICAgbGV0IG9mZnNldFNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBpZiAob2Zmc2V0U2Nyb2xsID4gMCkge1xuICAgICAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdpcy1zdGlja3knKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaXMtc3RpY2t5Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RpY2t5KCk7XG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0aWNreSgpO1xuICAgIH0pO1xuXG4gICAgLy8gSGVhZGVyIC0gTmF2XG4gICAgJCgnLm5hdicpLm9uKCdjbGljaycsICcubmF2X19idG4nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGh0bWxCbG9jayA9ICQoJ2h0bWwnKTtcbiAgICAgICAgaWYgKGh0bWxCbG9jay5pcygnLmlzLW5hdi1vcGVuJykpIHtcbiAgICAgICAgICAgIGh0bWxCbG9jay5yZW1vdmVDbGFzcygnaXMtbmF2LW9wZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWxCbG9jay5hZGRDbGFzcygnaXMtbmF2LW9wZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSGVhZGVyIC0gU2lnbmluXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zaWduaW5fX2J0bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgaHRtbEJsb2NrID0gJCgnaHRtbCcpO1xuICAgICAgICBpZiAoaHRtbEJsb2NrLmlzKCcuaXMtc2lnbmluLWZvcm0tb3BlbicpKSB7XG4gICAgICAgICAgICBodG1sQmxvY2sucmVtb3ZlQ2xhc3MoJ2lzLXNpZ25pbi1mb3JtLW9wZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWxCbG9jay5hZGRDbGFzcygnaXMtc2lnbmluLWZvcm0tb3BlbicpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLnNpZ25pbi1mb3JtJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2lzLXNpZ25pbi1vcGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhlYWRlciAtIExhbmd1YWdlXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5sYW5ndWFnZV9fYnRuJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBodG1sQmxvY2sgPSAkKCdodG1sJyk7XG4gICAgICAgIGlmIChodG1sQmxvY2suaXMoJy5pcy1sYW5ndWFnZS1vcGVuJykpIHtcbiAgICAgICAgICAgIGh0bWxCbG9jay5yZW1vdmVDbGFzcygnaXMtbGFuZ3VhZ2Utb3BlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHRtbEJsb2NrLmFkZENsYXNzKCdpcy1sYW5ndWFnZS1vcGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcubGFuZ3VhZ2UnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaXMtbGFuZ3VhZ2Utb3BlbicpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTbGlkZXNcbiAgICBsZXQgc2xpY2tQcmV2ID0gJzxidXR0b24gY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PHN2ZyBjbGFzcz1cImljb24tcHJldlwiPjx1c2UgeGxpbms6aHJlZj1cInNwcml0ZXMvc3ByaXRlLnN2ZyNpY29uLXByZXZcIj48L3VzZT48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgICBzbGlja05leHQgPSAnPGJ1dHRvbiBjbGFzcz1cInNsaWNrLWFycm93IHNsaWNrLW5leHRcIj48c3ZnIGNsYXNzPVwiaWNvbi1uZXh0XCI+PHVzZSB4bGluazpocmVmPVwic3ByaXRlcy9zcHJpdGUuc3ZnI2ljb24tbmV4dFwiPjwvdXNlPjwvc3ZnPjwvYnV0dG9uPicsXG4gICAgICAgIHNsaWNrUHJldlZlcnRpY2FsID0gJzxidXR0b24gY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PHN2ZyBjbGFzcz1cImljb24tcHJldi12ZXJ0aWNhbFwiPjx1c2UgeGxpbms6aHJlZj1cInNwcml0ZXMvc3ByaXRlLnN2ZyNpY29uLXByZXYtdmVydGljYWxcIj48L3VzZT48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgICBzbGlja05leHRWZXJ0aWNhbCA9ICc8YnV0dG9uIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stbmV4dFwiPjxzdmcgY2xhc3M9XCJpY29uLW5leHQtdmVydGljYWxcIj48dXNlIHhsaW5rOmhyZWY9XCJzcHJpdGVzL3Nwcml0ZS5zdmcjaWNvbi1uZXh0LXZlcnRpY2FsXCI+PC91c2U+PC9zdmc+PC9idXR0b24+JztcblxuICAgIC8vIEhlcm8gU2xpZGVzXG4gICAgJCgnLmpzLXNsaWNrLWhlcm8nKS5zbGljayh7XG4gICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgZmFkZTogZmFsc2UsXG4gICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICBuZXh0QXJyb3c6IHNsaWNrTmV4dCxcbiAgICAgICAgcHJldkFycm93OiBzbGlja1ByZXYsXG4gICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgcGF1c2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgYXV0b3BsYXlTcGVlZDogMTAwMDAsXG4gICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgbXEgPSAkKHdpbmRvdykud2lkdGgoKTtcblxuICAgICAgICBpZiAobXEgPj0gNzY4KSB7XG4gICAgICAgICAgICAkKCcuanMtc2xpY2staGVybycpLnNsaWNrKCdzbGlja1BsYXknKTtcbiAgICAgICAgfVxuICAgIH0sIDUwMDApO1xuXG4gICAgLy8gSW1hZ2VzIFNsaWRlc1xuICAgICQoJy5qcy1yZXZpZXdzJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCByZXZpZXdzID0gJCh0aGlzKSxcbiAgICAgICAgICAgIHJldmlld3NTbGlkZXMgPSByZXZpZXdzLmZpbmQoJy5qcy1yZXZpZXdzLXNsaWRlcycpLFxuICAgICAgICAgICAgcmV2aWV3c1RodW1icyA9IHJldmlld3MuZmluZCgnLmpzLXJldmlld3MtdGh1bWJzJyk7XG5cbiAgICAgICAgcmV2aWV3c1NsaWRlcy5zbGljayh7XG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgICAgIGZhZGU6IHRydWUsXG4gICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGFzTmF2Rm9yOiByZXZpZXdzVGh1bWJzLFxuICAgICAgICAgICAgbmV4dEFycm93OiBzbGlja05leHQsXG4gICAgICAgICAgICBwcmV2QXJyb3c6IHNsaWNrUHJldlxuICAgICAgICB9KTtcblxuICAgICAgICByZXZpZXdzVGh1bWJzLnNsaWNrKHtcbiAgICAgICAgICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6IDAsXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgIGFzTmF2Rm9yOiByZXZpZXdzU2xpZGVzLFxuICAgICAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlLFxuICAgICAgICAgICAgbmV4dEFycm93OiBzbGlja05leHRWZXJ0aWNhbCxcbiAgICAgICAgICAgIHByZXZBcnJvdzogc2xpY2tQcmV2VmVydGljYWwsXG4gICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDk5MSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEZhbmN5Ym94XG4gICAgJCgnW2RhdGEtZmFuY3lib3hdJykuZmFuY3lib3goe1xuICAgICAgICB0eXBlOiAnaW5saW5lJyxcbiAgICAgICAgdG91Y2g6IGZhbHNlLFxuICAgICAgICBidXR0b25zOiBbXVxuICAgIH0pO1xuXG4gICAgLy8gRm9ybXNcbiAgICAkKCdzZWxlY3QnKS5zdHlsZXIoe1xuICAgICAgICBzZWxlY3RTZWFyY2g6IGZhbHNlLFxuICAgICAgICBzZWxlY3RTbWFydFBvc2l0aW9uaW5nOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgLy8gUGhvbmVcbiAgICAkKCdpbnB1dFt0eXBlPXRlbF0nKS5pbnB1dG1hc2soe1wibWFza1wiOiBcIis3ICg5OTkpIDk5OS05OS05OVwiLCBzaG93TWFza09uRm9jdXM6IHRydWV9KTtcblxuICAgIC8vIEFjY29yZGlvblxuICAgICQoJy5qcy1hY2NvcmRpb24nKS5vbignY2xpY2snLCAnZHQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJy5pcy1hY3RpdmUnKSkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykubmV4dCgnZGQnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5qcy1hY2NvcmRpb24nKS5maW5kKCdkdCcpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmpzLWFjY29yZGlvbicpLmZpbmQoJ2RkJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtYWN0aXZlJykubmV4dCgnZGQnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2Nyb2xsVG9cbiAgICAkKCcuanMtc2Nyb2xsdG8nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgIG9mZnNldFRvcCA9ICQoaHJlZikub2Zmc2V0KCkudG9wO1xuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICBzY3JvbGxUb3A6IG9mZnNldFRvcCAtICQoJy5oZWFkZXInKS5oZWlnaHQoKSAtIDE0XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBWYWxpZGF0ZVxuICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcInJlZ2V4cFwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgL15cXCtcXGQgXFwoXFxkezN9XFwpIFxcZHszfS1cXGR7Mn0tXFxkezJ9JC8udGVzdCh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB2YWxpZGF0ZUVycm9yUGxhY2VtZW50ID0gZnVuY3Rpb24gKGVycm9yLCBlbGVtZW50KSB7XG4gICAgICAgIGVycm9yLmFkZENsYXNzKCd1aS12YWxpZGF0ZScpO1xuICAgICAgICBlcnJvci5hcHBlbmRUbyhlbGVtZW50LmNsb3Nlc3QoJy51aS1maWVsZCcpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVIaWdobGlnaHQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAkKGVsZW1lbnQpLnBhcmVudCgpLmFkZENsYXNzKFwiaXMtZXJyb3JcIikucmVtb3ZlQ2xhc3MoJ2lzLXZhbGlkJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlVW5oaWdobGlnaHQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAkKGVsZW1lbnQpLnBhcmVudCgpLmFkZENsYXNzKCdpcy12YWxpZCcpLnJlbW92ZUNsYXNzKFwiaXMtZXJyb3JcIilcbiAgICB9O1xuXG4gICAgJCgnLmpzLXZhbGlkYXRlJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykudmFsaWRhdGUoe1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50OiBcInNwYW5cIixcbiAgICAgICAgICAgIGlnbm9yZTogXCI6ZGlzYWJsZWQsOmhpZGRlblwiLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiB2YWxpZGF0ZUhpZ2hsaWdodCxcbiAgICAgICAgICAgIHVuaGlnaGxpZ2h0OiB2YWxpZGF0ZVVuaGlnaGxpZ2h0LFxuICAgICAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgICAgICAvLyBmdWxsbmFtZTogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgIC8vIHRlbDoge1xuICAgICAgICAgICAgICAgIC8vICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVnZXhwOiB0cnVlXG4gICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2U6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAvLyBjaXR5OiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gaW5kZXg6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAvLyBhZGRyZXNzOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gcGFzc3dvcmQ6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAvLyBwYXNzd29yZGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgLy8gICAgIGVxdWFsVG86IFwiI3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgIC8vIGFjY2VwdDogXCJyZXF1aXJlZFwiXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNzYWdlczoge1xuICAgICAgICAgICAgICAgIGZ1bGxuYW1lOiAn0JLRiyDQvdC1INCy0LLQtdC70Lgg0KTQmNCeJyxcbiAgICAgICAgICAgICAgICB0ZWw6ICfQktGLINC90LUg0LLQstC10LvQuCDQvdC+0LzQtdGAINGC0LXQu9C10YTQvtC90LAnLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAn0JLQstC10LTQuNGC0LUgZW1haWwnLFxuICAgICAgICAgICAgICAgIGNpdHk6ICfQktCy0LXQtNC40YLQtSDQs9C+0YDQvtC0JyxcbiAgICAgICAgICAgICAgICBpbmRleDogJ9CS0LLQtdC00LjRgtC1INC40L3QtNC10LrRgScsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogJ9CS0LLQtdC00LjRgtC1INCw0LTRgNC10YEnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LUnLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAn0JLQstC10LTQuNGC0LUg0L/QsNGA0L7Qu9GMJyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6ICfQn9C+0LLRgtC+0YDQuNGC0LUg0L/QsNGA0L7Qu9GMJyxcbiAgICAgICAgICAgICAgICAgICAgZXF1YWxUbzogJ9Cf0LDRgNC+0LvQuCDQvdC1INGB0L7QstC/0LDQtNCw0Y7RgidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjY2VwdDogJ9Cf0L7QtNGC0LLQtdGA0LTQuNGC0LUg0YPRgdC70L7QstC40Y8nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3JQbGFjZW1lbnQ6IHZhbGlkYXRlRXJyb3JQbGFjZW1lbnQsXG4gICAgICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gJChmb3JtKS5zZXJpYWxpemUoKTsvLyQoZm9ybSkuZGF0YSgndHlwZScpID09PSAnSlNPTicgPyAkKGZvcm0pLnNlcmlhbGl6ZUFycmF5KCkgOiAkKGZvcm0pLnNlcmlhbGl6ZSgpO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJChmb3JtKS5hdHRyKCdtZXRob2QnKSB8fCAnZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGZvcm0pLmF0dHIoJ2FjdGlvbicpIHx8ICcjJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm0uc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdWx0OiBcIiArIHN0YXR1cyArIFwiIFwiICsgZXJyb3IgKyBcIiBcIiArIHhoci5zdGF0dXMgKyBcIiBcIiArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2UgdGV4dDogXCIgKyB4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VsdDogXCIgKyBzdGF0dXMgKyBcIiBcIiArIGVycm9yICsgXCIgXCIgKyB4aHIuc3RhdHVzICsgXCIgXCIgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3BvbnNlIHRleHQ6IFwiICsgeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXX0=
