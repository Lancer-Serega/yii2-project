(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

$(function () {
    // Svg Polyfill
    svg4everybody();

    // Header - Sticky
    function sticky() {
        var offsetScroll = window.pageYOffset || document.documentElement.scrollTop;
        if (offsetScroll > 0) {
            $('html').addClass('is-sticky');
        } else {
            $('html').removeClass('is-sticky');
        }
    }
    sticky();
    $(window).on('scroll', function () {
        sticky();
    });

    // Header - Nav
    $('.nav').on('click', '.nav__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-nav-open')) {
            htmlBlock.removeClass('is-nav-open');
        } else {
            htmlBlock.addClass('is-nav-open');
        }
    });

    // Header - Signin
    $(document).on('click', '.signin__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-signin-form-open')) {
            htmlBlock.removeClass('is-signin-form-open');
        } else {
            htmlBlock.addClass('is-signin-form-open');
        }
    });
    $(document).on('click', function (event) {
        if ($(event.target).closest('.signin-form').length === 0) {
            $('html').removeClass('is-signin-open');
        }
    });

    // Header - Language
    $(document).on('click', '.language__btn', function (event) {
        event.preventDefault();
        var htmlBlock = $('html');
        if (htmlBlock.is('.is-language-open')) {
            htmlBlock.removeClass('is-language-open');
        } else {
            htmlBlock.addClass('is-language-open');
        }
    });
    $(document).on('click', function (event) {
        if ($(event.target).closest('.language').length === 0) {
            $('html').removeClass('is-language-open');
        }
    });

    // Slides
    var slickPrev = '<button class="slick-arrow slick-prev"><svg class="icon-prev"><use xlink:href="sprites/sprite.svg#icon-prev"></use></svg></button>',
        slickNext = '<button class="slick-arrow slick-next"><svg class="icon-next"><use xlink:href="sprites/sprite.svg#icon-next"></use></svg></button>',
        slickPrevVertical = '<button class="slick-arrow slick-prev"><svg class="icon-prev-vertical"><use xlink:href="sprites/sprite.svg#icon-prev-vertical"></use></svg></button>',
        slickNextVertical = '<button class="slick-arrow slick-next"><svg class="icon-next-vertical"><use xlink:href="sprites/sprite.svg#icon-next-vertical"></use></svg></button>';

    // Hero Slides
    $('.js-slick-hero').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: true,
        dots: true,
        fade: false,
        infinite: true,
        nextArrow: slickNext,
        prevArrow: slickPrev,
        autoplay: false,
        pauseOnHover: false,
        autoplaySpeed: 10000,
        responsive: [{
            breakpoint: 767,
            settings: {
                adaptiveHeight: true,
                autoplay: false
            }
        }]
    });
    setTimeout(function () {
        var mq = $(window).width();

        if (mq >= 768) {
            $('.js-slick-hero').slick('slickPlay');
        }
    }, 5000);

    // Images Slides
    $('.js-reviews').each(function () {
        var reviews = $(this),
            reviewsSlides = reviews.find('.js-reviews-slides'),
            reviewsThumbs = reviews.find('.js-reviews-thumbs');

        reviewsSlides.slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            dots: false,
            fade: true,
            infinite: true,
            asNavFor: reviewsThumbs,
            nextArrow: slickNext,
            prevArrow: slickPrev
        });

        reviewsThumbs.slick({
            vertical: true,
            centerMode: true,
            centerPadding: 0,
            slidesToShow: 3,
            slidesToScroll: 1,
            asNavFor: reviewsSlides,
            arrows: true,
            dots: false,
            focusOnSelect: true,
            nextArrow: slickNextVertical,
            prevArrow: slickPrevVertical,
            infinite: true,
            responsive: [{
                breakpoint: 991,
                settings: {
                    vertical: false
                }
            }, {
                breakpoint: 767,
                settings: {
                    slidesToShow: 1,
                    vertical: false
                }
            }]
        });
    });

    // Fancybox
    $('[data-fancybox]').fancybox({
        type: 'inline',
        touch: false,
        buttons: []
    });

    // Forms
    $('select').styler({
        selectSearch: false,
        selectSmartPositioning: false
    });

    // Phone
    $('input[type=tel]').inputmask({ "mask": "+7 (999) 999-99-99", showMaskOnFocus: true });

    // Accordion
    $('.js-accordion').on('click', 'dt', function (event) {
        event.preventDefault();
        if ($(this).is('.is-active')) {
            $(this).removeClass('is-active').next('dd').slideUp('fast');
        } else {
            $(this).closest('.js-accordion').find('dt').removeClass('is-active');
            $(this).closest('.js-accordion').find('dd').slideUp('fast');
            $(this).addClass('is-active').next('dd').slideDown('fast');
        }
    });

    // ScrollTo
    $('.js-scrollto').on('click', function (event) {
        event.preventDefault();
        var href = $(this).attr('href'),
            offsetTop = $(href).offset().top;
        $('html, body').animate({
            scrollTop: offsetTop - $('.header').height() - 14
        }, 500);
    });

    // Validate
    $.validator.addMethod("regexp", function (value, element) {
        return this.optional(element) || /^\+\d \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(value);
    });

    var validateErrorPlacement = function validateErrorPlacement(error, element) {
        error.addClass('ui-validate');
        error.appendTo(element.closest('.ui-field'));
    };

    var validateHighlight = function validateHighlight(element) {
        $(element).parent().addClass("is-error").removeClass('is-valid');
    };

    var validateUnhighlight = function validateUnhighlight(element) {
        $(element).parent().addClass('is-valid').removeClass("is-error");
    };

    $('.js-validate').each(function () {
        $(this).validate({
            errorElement: "span",
            ignore: ":disabled,:hidden",
            highlight: validateHighlight,
            unhighlight: validateUnhighlight,
            rules: {
                // fullname: "required",
                // tel: {
                //     required: true,
                //     regexp: true
                // },
                email: {
                    required: true,
                    email: true
                }
                // message: "required",
                // city: "required",
                // index: "required",
                // address: "required",
                // password: "required",
                // passwordconfirm: {
                //     required: true,
                //     equalTo: "#password"
                // },
                // accept: "required"

            },
            messages: {
                fullname: 'Вы не ввели ФИО',
                tel: 'Вы не ввели номер телефона',
                email: 'Введите email',
                city: 'Введите город',
                index: 'Введите индекс',
                address: 'Введите адрес',
                message: 'Введите сообщение',
                password: 'Введите пароль',
                passwordconfirm: {
                    required: 'Повторите пароль',
                    equalTo: 'Пароли не совпадают'
                },
                accept: 'Подтвердите условия'
            },
            errorPlacement: validateErrorPlacement,
            submitHandler: function submitHandler(form) {
                var data = $(form).serialize(); //$(form).data('type') === 'JSON' ? $(form).serializeArray() : $(form).serialize();

                $.ajax({
                    type: $(form).attr('method') || 'get',
                    url: $(form).attr('action') || '#',
                    // dataType: $(form).data('type') || 'JSON',
                    // contentType: $(form).data('contentType') || 'application/json',
                    data: data,
                    success: function success(form) {
                        console.log(form.statusText);
                        location.reload();
                    },
                    error: function error(xhr, status, _error) {
                        console.log("Result: " + status + " " + _error + " " + xhr.status + " " + xhr.statusText);
                    },
                    fail: function fail(xhr, status, error) {
                        console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText);
                    }
                });
                event.preventDefault();
            }
        });
    });
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxFQUFFLFlBQVk7QUFDVjtBQUNBOztBQUVBO0FBQ0EsYUFBUyxNQUFULEdBQWtCO0FBQ2QsWUFBSSxlQUFlLE9BQU8sV0FBUCxJQUFzQixTQUFTLGVBQVQsQ0FBeUIsU0FBbEU7QUFDQSxZQUFJLGVBQWUsQ0FBbkIsRUFBc0I7QUFDbEIsY0FBRSxNQUFGLEVBQVUsUUFBVixDQUFtQixXQUFuQjtBQUNILFNBRkQsTUFFTztBQUNILGNBQUUsTUFBRixFQUFVLFdBQVYsQ0FBc0IsV0FBdEI7QUFDSDtBQUNKO0FBQ0Q7QUFDQSxNQUFFLE1BQUYsRUFBVSxFQUFWLENBQWEsUUFBYixFQUF1QixZQUFZO0FBQy9CO0FBQ0gsS0FGRDs7QUFJQTtBQUNBLE1BQUUsTUFBRixFQUFVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFdBQXRCLEVBQW1DLFVBQVUsS0FBVixFQUFpQjtBQUNoRCxjQUFNLGNBQU47QUFDQSxZQUFJLFlBQVksRUFBRSxNQUFGLENBQWhCO0FBQ0EsWUFBSSxVQUFVLEVBQVYsQ0FBYSxjQUFiLENBQUosRUFBa0M7QUFDOUIsc0JBQVUsV0FBVixDQUFzQixhQUF0QjtBQUNILFNBRkQsTUFFTztBQUNILHNCQUFVLFFBQVYsQ0FBbUIsYUFBbkI7QUFDSDtBQUNKLEtBUkQ7O0FBVUE7QUFDQSxNQUFFLFFBQUYsRUFBWSxFQUFaLENBQWUsT0FBZixFQUF3QixjQUF4QixFQUF3QyxVQUFVLEtBQVYsRUFBaUI7QUFDckQsY0FBTSxjQUFOO0FBQ0EsWUFBSSxZQUFZLEVBQUUsTUFBRixDQUFoQjtBQUNBLFlBQUksVUFBVSxFQUFWLENBQWEsc0JBQWIsQ0FBSixFQUEwQztBQUN0QyxzQkFBVSxXQUFWLENBQXNCLHFCQUF0QjtBQUNILFNBRkQsTUFFTztBQUNILHNCQUFVLFFBQVYsQ0FBbUIscUJBQW5CO0FB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Q0FBWSxhQUFhLE1BQWIsR0FBc0IsR0FBdEIsR0FBNEIsTUFBNUIsR0FBb0MsR0FBcEMsR0FBMEMsSUFBSSxNQUE5QyxHQUF1RCxHQUF2RCxHQUE2RCxJQUFJLFVBQTdFO0FBQ0gscUJBWkU7QUFhSCwwQkFBTSxjQUFVLEdBQVYsRUFBZSxNQUFmLEVBQXVCLEtBQXZCLEVBQThCO0FBQ2hDLGdDQUFRLEdBQVIsQ0FBWSxhQUFhLE1BQWIsR0FBc0IsR0FBdEIsR0FBNEIsS0FBNUIsR0FBb0MsR0FBcEMsR0FBMEMsSUFBSSxNQUE5QyxHQUF1RCxHQUF2RCxHQUE2RCxJQUFJLFVBQTdFO0FBQ0g7QUFmRSxpQkFBUDtBQWlCQSxzQkFBTSxjQUFOO0FBQ0g7QUFoRVksU0FBakI7QUFrRUgsS0FuRUQ7QUFvRUgsQ0EvUUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIkKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTdmcgUG9seWZpbGxcbiAgICBzdmc0ZXZlcnlib2R5KCk7XG5cbiAgICAvLyBIZWFkZXIgLSBTdGlja3lcbiAgICBmdW5jdGlvbiBzdGlja3koKSB7XG4gICAgICAgIGxldCBvZmZzZXRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgaWYgKG9mZnNldFNjcm9sbCA+IDApIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnaXMtc3RpY2t5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2lzLXN0aWNreScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0aWNreSgpO1xuICAgICQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGlja3koKTtcbiAgICB9KTtcblxuICAgIC8vIEhlYWRlciAtIE5hdlxuICAgICQoJy5uYXYnKS5vbignY2xpY2snLCAnLm5hdl9fYnRuJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBodG1sQmxvY2sgPSAkKCdodG1sJyk7XG4gICAgICAgIGlmIChodG1sQmxvY2suaXMoJy5pcy1uYXYtb3BlbicpKSB7XG4gICAgICAgICAgICBodG1sQmxvY2sucmVtb3ZlQ2xhc3MoJ2lzLW5hdi1vcGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sQmxvY2suYWRkQ2xhc3MoJ2lzLW5hdi1vcGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhlYWRlciAtIFNpZ25pblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2lnbmluX19idG4nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGh0bWxCbG9jayA9ICQoJ2h0bWwnKTtcbiAgICAgICAgaWYgKGh0bWxCbG9jay5pcygnLmlzLXNpZ25pbi1mb3JtLW9wZW4nKSkge1xuICAgICAgICAgICAgaHRtbEJsb2NrLnJlbW92ZUNsYXNzKCdpcy1zaWduaW4tZm9ybS1vcGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sQmxvY2suYWRkQ2xhc3MoJ2lzLXNpZ25pbi1mb3JtLW9wZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy5zaWduaW4tZm9ybScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdpcy1zaWduaW4tb3BlbicpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBIZWFkZXIgLSBMYW5ndWFnZVxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubGFuZ3VhZ2VfX2J0bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgaHRtbEJsb2NrID0gJCgnaHRtbCcpO1xuICAgICAgICBpZiAoaHRtbEJsb2NrLmlzKCcuaXMtbGFuZ3VhZ2Utb3BlbicpKSB7XG4gICAgICAgICAgICBodG1sQmxvY2sucmVtb3ZlQ2xhc3MoJ2lzLWxhbmd1YWdlLW9wZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWxCbG9jay5hZGRDbGFzcygnaXMtbGFuZ3VhZ2Utb3BlbicpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmxhbmd1YWdlJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2lzLWxhbmd1YWdlLW9wZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2xpZGVzXG4gICAgbGV0IHNsaWNrUHJldiA9ICc8YnV0dG9uIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stcHJldlwiPjxzdmcgY2xhc3M9XCJpY29uLXByZXZcIj48dXNlIHhsaW5rOmhyZWY9XCJzcHJpdGVzL3Nwcml0ZS5zdmcjaWNvbi1wcmV2XCI+PC91c2U+PC9zdmc+PC9idXR0b24+JyxcbiAgICAgICAgc2xpY2tOZXh0ID0gJzxidXR0b24gY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1uZXh0XCI+PHN2ZyBjbGFzcz1cImljb24tbmV4dFwiPjx1c2UgeGxpbms6aHJlZj1cInNwcml0ZXMvc3ByaXRlLnN2ZyNpY29uLW5leHRcIj48L3VzZT48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgICBzbGlja1ByZXZWZXJ0aWNhbCA9ICc8YnV0dG9uIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stcHJldlwiPjxzdmcgY2xhc3M9XCJpY29uLXByZXYtdmVydGljYWxcIj48dXNlIHhsaW5rOmhyZWY9XCJzcHJpdGVzL3Nwcml0ZS5zdmcjaWNvbi1wcmV2LXZlcnRpY2FsXCI+PC91c2U+PC9zdmc+PC9idXR0b24+JyxcbiAgICAgICAgc2xpY2tOZXh0VmVydGljYWwgPSAnPGJ1dHRvbiBjbGFzcz1cInNsaWNrLWFycm93IHNsaWNrLW5leHRcIj48c3ZnIGNsYXNzPVwiaWNvbi1uZXh0LXZlcnRpY2FsXCI+PHVzZSB4bGluazpocmVmPVwic3ByaXRlcy9zcHJpdGUuc3ZnI2ljb24tbmV4dC12ZXJ0aWNhbFwiPjwvdXNlPjwvc3ZnPjwvYnV0dG9uPic7XG5cbiAgICAvLyBIZXJvIFNsaWRlc1xuICAgICQoJy5qcy1zbGljay1oZXJvJykuc2xpY2soe1xuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgIGZhZGU6IGZhbHNlLFxuICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgbmV4dEFycm93OiBzbGlja05leHQsXG4gICAgICAgIHByZXZBcnJvdzogc2xpY2tQcmV2LFxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgIHBhdXNlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDEwMDAwLFxuICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY3LFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG1xID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cbiAgICAgICAgaWYgKG1xID49IDc2OCkge1xuICAgICAgICAgICAgJCgnLmpzLXNsaWNrLWhlcm8nKS5zbGljaygnc2xpY2tQbGF5Jyk7XG4gICAgICAgIH1cbiAgICB9LCA1MDAwKTtcblxuICAgIC8vIEltYWdlcyBTbGlkZXNcbiAgICAkKCcuanMtcmV2aWV3cycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgcmV2aWV3cyA9ICQodGhpcyksXG4gICAgICAgICAgICByZXZpZXdzU2xpZGVzID0gcmV2aWV3cy5maW5kKCcuanMtcmV2aWV3cy1zbGlkZXMnKSxcbiAgICAgICAgICAgIHJldmlld3NUaHVtYnMgPSByZXZpZXdzLmZpbmQoJy5qcy1yZXZpZXdzLXRodW1icycpO1xuXG4gICAgICAgIHJldmlld3NTbGlkZXMuc2xpY2soe1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICBhc05hdkZvcjogcmV2aWV3c1RodW1icyxcbiAgICAgICAgICAgIG5leHRBcnJvdzogc2xpY2tOZXh0LFxuICAgICAgICAgICAgcHJldkFycm93OiBzbGlja1ByZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV2aWV3c1RodW1icy5zbGljayh7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAwLFxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICBhc05hdkZvcjogcmV2aWV3c1NsaWRlcyxcbiAgICAgICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcbiAgICAgICAgICAgIG5leHRBcnJvdzogc2xpY2tOZXh0VmVydGljYWwsXG4gICAgICAgICAgICBwcmV2QXJyb3c6IHNsaWNrUHJldlZlcnRpY2FsLFxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA5OTEsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBGYW5jeWJveFxuICAgICQoJ1tkYXRhLWZhbmN5Ym94XScpLmZhbmN5Ym94KHtcbiAgICAgICAgdHlwZTogJ2lubGluZScsXG4gICAgICAgIHRvdWNoOiBmYWxzZSxcbiAgICAgICAgYnV0dG9uczogW11cbiAgICB9KTtcblxuICAgIC8vIEZvcm1zXG4gICAgJCgnc2VsZWN0Jykuc3R5bGVyKHtcbiAgICAgICAgc2VsZWN0U2VhcmNoOiBmYWxzZSxcbiAgICAgICAgc2VsZWN0U21hcnRQb3NpdGlvbmluZzogZmFsc2VcbiAgICB9KTtcblxuICAgIC8vIFBob25lXG4gICAgJCgnaW5wdXRbdHlwZT10ZWxdJykuaW5wdXRtYXNrKHtcIm1hc2tcIjogXCIrNyAoOTk5KSA5OTktOTktOTlcIiwgc2hvd01hc2tPbkZvY3VzOiB0cnVlfSk7XG5cbiAgICAvLyBBY2NvcmRpb25cbiAgICAkKCcuanMtYWNjb3JkaW9uJykub24oJ2NsaWNrJywgJ2R0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCcuaXMtYWN0aXZlJykpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpLm5leHQoJ2RkJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuanMtYWNjb3JkaW9uJykuZmluZCgnZHQnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5qcy1hY2NvcmRpb24nKS5maW5kKCdkZCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpLm5leHQoJ2RkJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNjcm9sbFRvXG4gICAgJCgnLmpzLXNjcm9sbHRvJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICBvZmZzZXRUb3AgPSAkKGhyZWYpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3AgLSAkKCcuaGVhZGVyJykuaGVpZ2h0KCkgLSAxNFxuICAgICAgICB9LCA1MDApO1xuICAgIH0pO1xuXG4gICAgLy8gVmFsaWRhdGVcbiAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJyZWdleHBcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eXFwrXFxkIFxcKFxcZHszfVxcKSBcXGR7M30tXFxkezJ9LVxcZHsyfSQvLnRlc3QodmFsdWUpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdmFsaWRhdGVFcnJvclBsYWNlbWVudCA9IGZ1bmN0aW9uIChlcnJvciwgZWxlbWVudCkge1xuICAgICAgICBlcnJvci5hZGRDbGFzcygndWktdmFsaWRhdGUnKTtcbiAgICAgICAgZXJyb3IuYXBwZW5kVG8oZWxlbWVudC5jbG9zZXN0KCcudWktZmllbGQnKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgJChlbGVtZW50KS5wYXJlbnQoKS5hZGRDbGFzcyhcImlzLWVycm9yXCIpLnJlbW92ZUNsYXNzKCdpcy12YWxpZCcpO1xuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVVuaGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgJChlbGVtZW50KS5wYXJlbnQoKS5hZGRDbGFzcygnaXMtdmFsaWQnKS5yZW1vdmVDbGFzcyhcImlzLWVycm9yXCIpXG4gICAgfTtcblxuICAgICQoJy5qcy12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnZhbGlkYXRlKHtcbiAgICAgICAgICAgIGVycm9yRWxlbWVudDogXCJzcGFuXCIsXG4gICAgICAgICAgICBpZ25vcmU6IFwiOmRpc2FibGVkLDpoaWRkZW5cIixcbiAgICAgICAgICAgIGhpZ2hsaWdodDogdmFsaWRhdGVIaWdobGlnaHQsXG4gICAgICAgICAgICB1bmhpZ2hsaWdodDogdmFsaWRhdGVVbmhpZ2hsaWdodCxcbiAgICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgLy8gZnVsbG5hbWU6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAvLyB0ZWw6IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlZ2V4cDogdHJ1ZVxuICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBtZXNzYWdlOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gY2l0eTogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgIC8vIGluZGV4OiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gYWRkcmVzczogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgIC8vIHBhc3N3b3JkOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgLy8gcGFzc3dvcmRjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIC8vICAgICBlcXVhbFRvOiBcIiNwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAvLyBhY2NlcHQ6IFwicmVxdWlyZWRcIlxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgICAgICAgICBmdWxsbmFtZTogJ9CS0Ysg0L3QtSDQstCy0LXQu9C4INCk0JjQnicsXG4gICAgICAgICAgICAgICAgdGVsOiAn0JLRiyDQvdC1INCy0LLQtdC70Lgg0L3QvtC80LXRgCDRgtC10LvQtdGE0L7QvdCwJyxcbiAgICAgICAgICAgICAgICBlbWFpbDogJ9CS0LLQtdC00LjRgtC1IGVtYWlsJyxcbiAgICAgICAgICAgICAgICBjaXR5OiAn0JLQstC10LTQuNGC0LUg0LPQvtGA0L7QtCcsXG4gICAgICAgICAgICAgICAgaW5kZXg6ICfQktCy0LXQtNC40YLQtSDQuNC90LTQtdC60YEnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3M6ICfQktCy0LXQtNC40YLQtSDQsNC00YDQtdGBJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1JyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogJ9CS0LLQtdC00LjRgtC1INC/0LDRgNC+0LvRjCcsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiAn0J/QvtCy0YLQvtGA0LjRgtC1INC/0LDRgNC+0LvRjCcsXG4gICAgICAgICAgICAgICAgICAgIGVxdWFsVG86ICfQn9Cw0YDQvtC70Lgg0L3QtSDRgdC+0LLQv9Cw0LTQsNGO0YInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhY2NlcHQ6ICfQn9C+0LTRgtCy0LXRgNC00LjRgtC1INGD0YHQu9C+0LLQuNGPJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yUGxhY2VtZW50OiB2YWxpZGF0ZUVycm9yUGxhY2VtZW50LFxuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9ICQoZm9ybSkuc2VyaWFsaXplKCk7Ly8kKGZvcm0pLmRhdGEoJ3R5cGUnKSA9PT0gJ0pTT04nID8gJChmb3JtKS5zZXJpYWxpemVBcnJheSgpIDogJChmb3JtKS5zZXJpYWxpemUoKTtcblxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICQoZm9ybSkuYXR0cignbWV0aG9kJykgfHwgJ2dldCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJChmb3JtKS5hdHRyKCdhY3Rpb24nKSB8fCAnIycsXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGFUeXBlOiAkKGZvcm0pLmRhdGEoJ3R5cGUnKSB8fCAnSlNPTicsXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRlbnRUeXBlOiAkKGZvcm0pLmRhdGEoJ2NvbnRlbnRUeXBlJykgfHwgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZm9ybS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bHQ6IFwiICsgc3RhdHVzICsgXCIgXCIgKyBlcnJvciArIFwiIFwiICsgeGhyLnN0YXR1cyArIFwiIFwiICsgeGhyLnN0YXR1c1RleHQpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdWx0OiBcIiArIHN0YXR1cyArIFwiIFwiICsgZXJyb3IgKyBcIiBcIiArIHhoci5zdGF0dXMgKyBcIiBcIiArIHhoci5zdGF0dXNUZXh0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdfQ==
